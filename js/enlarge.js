"use strict";var _createClass=function(){function i(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,s){return e&&i(t.prototype,e),s&&i(t,s),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Enlarge=function(){function e(t){_classCallCheck(this,e),this.ele=document.querySelector(t),this.show=this.ele.querySelector(".show"),this.showImg=this.show.querySelector("img"),this.mask=this.show.querySelector(".mask"),this.btn=this.ele.querySelectorAll(".list p"),this.enlarge=this.ele.querySelector(".enlarge"),this.init()}return _createClass(e,[{key:"init",value:function(){var s=this;this.show.onmouseover=function(){s.mask.style.display=s.enlarge.style.display="block",s.setStyle()},this.show.onmouseout=function(){s.mask.style.display=s.enlarge.style.display="none"},this.show.onmousemove=function(){s.maskMove()},this.btn.forEach(function(e,t){e.onclick=function(){var t=window.event;s.changeImage(e,t.target)}})}},{key:"setStyle",value:function(){this.showWidth=this.show.offsetWidth,this.showHeight=this.show.offsetHeight,this.maskWidth=this.mask.offsetWidth,this.maskHeight=this.mask.offsetHeight;var t=getStyle(this.enlarge,"backgroundSize");this.styleX=parseInt(t.split(" ")[0]),this.styleY=parseInt(t.split(" ")[1]),this.enlargeWidth=this.maskWidth*this.styleX/this.showWidth,this.enlargeHeight=this.maskHeight*this.styleY/this.showHeight,this.enlarge.style.width=this.enlargeWidth+"px",this.enlarge.style.height=this.enlargeHeight+"px"}},{key:"maskMove",value:function(){var t=window.event,e=t.pageX-this.ele.offsetLeft,t=t.pageY-this.ele.offsetTop,e=e-this.maskWidth/2,t=t-this.maskHeight/2;e<=0&&(e=0),t<=0&&(t=0),e>=this.showWidth-this.maskWidth&&(e=this.showWidth-this.maskWidth),t>=this.showHeight-this.maskHeight&&(t=this.showHeight-this.maskHeight),this.mask.style.left=e+"px",this.mask.style.top=t+"px",this.enlargeMove(e,t)}},{key:"enlargeMove",value:function(t,e){t=t*this.styleX/this.showWidth,e=e*this.styleY/this.showHeight;this.enlarge.style.backgroundPosition=-t+"px "+-e+"px"}},{key:"changeImage",value:function(t,e){this.btn.forEach(function(t){t.classList.remove("active")}),t.classList.add("active");t=e.getAttribute("midelimg");this.showImg.src=t;e=e.getAttribute("bigimg");this.enlarge.style.backgroundImage="url("+e+")"}}]),e}();